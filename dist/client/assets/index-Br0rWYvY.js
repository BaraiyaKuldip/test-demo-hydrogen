import{r as d,j as v,c as re,C as ne,D as Ne,L as fe,G as Je,H as Ye}from"./components-DQ2b9yAr.js";import{f as U}from"./flatten-connection-BTqmuHGw.js";import{u as Ke,d as ze}from"./ShopifyProvider-CZDC5trg.js";const Xe="modulepreload",Ze=function(e){return"/"+e},he={},Qe=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.all(r.map(s=>{if(s=Ze(s),s in he)return;he[s]=!0;const u=s.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${c}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":Xe,u||(l.as="script",l.crossOrigin=""),l.href=s,o&&l.setAttribute("nonce",o),document.head.appendChild(l),u)return new Promise((p,g)=>{l.addEventListener("load",p),l.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${s}`)))})}))}return n.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},x="_shopify_y",L="_shopify_s";var et=new Set(["domain","path","max-age","expires","samesite","secure","httponly"]);function tt(e){let t={},r,a,n=0,i=e.split(/;\s*/g),o,s;for(;n<i.length;n++)if(a=i[n],r=a.indexOf("="),~r){if(o=a.substring(0,r++).trim(),s=a.substring(r).trim(),s[0]==='"'&&(s=s.substring(1,s.length-1)),~s.indexOf("%"))try{s=decodeURIComponent(s)}catch{}et.has(a=o.toLowerCase())?a==="expires"?t.expires=new Date(s):a==="max-age"?t.maxage=+s:t[a]=s:t[o]=s}else(o=a.trim().toLowerCase())&&(o==="httponly"||o==="secure")&&(t[o]=!0);return t}function rt(e,t,r={}){let a=e+"="+encodeURIComponent(t);return r.expires&&(a+="; Expires="+new Date(r.expires).toUTCString()),r.maxage!=null&&r.maxage>=0&&(a+="; Max-Age="+(r.maxage|0)),r.domain&&(a+="; Domain="+r.domain),r.path&&(a+="; Path="+r.path),r.samesite&&(a+="; SameSite="+r.samesite),(r.secure||r.samesite==="None")&&(a+="; Secure"),r.httponly&&(a+="; HttpOnly"),a}const ge="xxxx-4xxx-xxxx-xxxxxxxxxxxx";function K(){let e="";try{const t=window.crypto,r=new Uint16Array(31);t.getRandomValues(r);let a=0;e=ge.replace(/[x]/g,n=>{const i=r[a]%16,o=n==="x"?i:i&3|8;return a++,o.toString(16)}).toUpperCase()}catch{e=ge.replace(/[x]/g,r=>{const a=Math.random()*16|0;return(r==="x"?a:a&3|8).toString(16)}).toUpperCase()}return`${nt()}-${e}`}function nt(){let e=0,t=0;e=new Date().getTime()>>>0;try{t=performance.now()>>>0}catch{t=0}return Math.abs(e+t).toString(16).toLowerCase().padStart(8,"0")}function Ue(e){const t=tt(e);return{[x]:t[x]||"",[L]:t[L]||""}}const E={PAGE_VIEW:"PAGE_VIEW",ADD_TO_CART:"ADD_TO_CART",PAGE_VIEW_2:"PAGE_VIEW_2",COLLECTION_VIEW:"COLLECTION_VIEW",PRODUCT_VIEW:"PRODUCT_VIEW",SEARCH_VIEW:"SEARCH_VIEW"},O={article:"article",blog:"blog",captcha:"captcha",cart:"cart",collection:"collection",customersAccount:"customers/account",customersActivateAccount:"customers/activate_account",customersAddresses:"customers/addresses",customersLogin:"customers/login",customersOrder:"customers/order",customersRegister:"customers/register",customersResetPassword:"customers/reset_password",giftCard:"gift_card",home:"index",listCollections:"list-collections",forbidden:"403",notFound:"404",page:"page",password:"password",product:"product",policy:"policy",search:"search"},ot={hydrogen:"hydrogen",headless:"headless"},me={hydrogen:"6167201",headless:"12875497473"};function I(e,t){return{schema_id:e,payload:t,metadata:{event_created_at_ms:Date.now()}}}function _(e){const t={id:"",resource:null,resourceId:null,search:"",searchParams:new URLSearchParams,hash:""};if(typeof e!="string")return t;try{const{search:r,searchParams:a,pathname:n,hash:i}=new URL(e),o=n.split("/"),s=o[o.length-1],u=o[o.length-2];return!s||!u?t:{id:`${s}${r}${i}`||"",resource:u??null,resourceId:s||null,search:r,searchParams:a,hash:i}}catch{return t}}function P(e,t){return typeof e!="object"?{}:(Object.entries(e).forEach(([r,a])=>{a&&(t[r]=a)}),t)}function at(e){return typeof document>"u"?(console.error(`${e} should only be used within the useEffect callback or event handlers`),!0):!1}const it="trekkie_storefront_page_view/1.4",st="myshopify.dev";function ye(e){const t=e,{id:r,resource:a}=_(t.resourceId),n=a?a.toLowerCase():void 0;return[I(it,P({pageType:t.pageType,customerId:parseInt(_(t.customerId).id||"0"),resourceType:n,resourceId:parseInt(r)},ct(t)))]}function ct(e){return{appClientId:e.shopifySalesChannel?me[e.shopifySalesChannel]:me.headless,isMerchantRequest:ut(e.url),hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",isPersistentCookie:e.hasUserConsent,uniqToken:e.uniqueToken,visitToken:e.visitToken,microSessionId:K(),microSessionCount:1,url:e.url,path:e.path,search:e.search,referrer:e.referrer,title:e.title,shopId:parseInt(_(e.shopId).id),currency:e.currency,contentLanguage:e.acceptedLanguage||"en"}}function ut(e){if(typeof e!="string")return!1;const t=new URL(e).hostname;return t.indexOf(st)!==-1||t==="localhost"}const lt="2025.1.1",A="custom_storefront_customer_tracking/1.2",Ve="page_rendered",je="collection_page_rendered",$e="product_page_rendered",dt="product_added_to_cart",Me="search_submitted";function j(e){return{canonical_url:e.canonicalUrl||e.url,customer_id:parseInt(_(e.customerId).id||"0")}}function pt(e){const t=e,r=j(t),a=t.pageType,n=[];switch(n.push(I(A,P({event_name:Ve,...r},S(t)))),a){case O.collection:n.push(I(A,P({event_name:je,...r,collection_name:t.collectionHandle,collection_id:parseInt(_(t.collectionId).id)},S(t))));break;case O.product:n.push(I(A,P({event_name:$e,...r,products:oe(t.products),total_value:t.totalValue},S(t))));break;case O.search:n.push(I(A,P({event_name:Me,...r,search_string:t.searchString},S(t))));break}return n}function ft(e){const t=e,r=j(t);return[I(A,P({event_name:Ve,...r},S(t)))]}function ht(e){const t=e,r=j(t);return[I(A,P({event_name:je,...r,collection_name:t.collectionHandle,collection_id:parseInt(_(t.collectionId).id)},S(t)))]}function gt(e){const t=e,r=j(t);return[I(A,P({event_name:$e,...r,products:oe(t.products),total_value:t.totalValue},S(t)))]}function mt(e){const t=e,r=j(t);return[I(A,P({event_name:Me,...r,search_string:t.searchString},S(t)))]}function yt(e){const t=e,r=_(t.cartId);return[I(A,P({event_name:dt,customerId:t.customerId,cart_token:r!=null&&r.id?`${r.id}`:null,total_value:t.totalValue,products:oe(t.products),customer_id:parseInt(_(t.customerId).id||"0")},S(t)))]}function S(e){return{source:e.shopifySalesChannel||ot.headless,asset_version_id:e.assetVersionId||lt,hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",is_persistent_cookie:e.hasUserConsent,deprecated_visit_token:e.visitToken,unique_token:e.uniqueToken,event_time:Date.now(),event_id:K(),event_source_url:e.url,referrer:e.referrer,user_agent:e.userAgent,navigation_type:e.navigationType,navigation_api:e.navigationApi,shop_id:parseInt(_(e.shopId).id),currency:e.currency,ccpa_enforced:e.ccpaEnforced||!1,gdpr_enforced:e.gdprEnforced||!1,gdpr_enforced_as_string:e.gdprEnforced?"true":"false",analytics_allowed:e.analyticsAllowed||!1,marketing_allowed:e.marketingAllowed||!1,sale_of_data_allowed:e.saleOfDataAllowed||!1}}function oe(e){return e?e.map(t=>{const r=P({variant_gid:t.variantGid,category:t.category,sku:t.sku,product_id:parseInt(_(t.productGid).id),variant_id:parseInt(_(t.variantGid).id)},{product_gid:t.productGid,name:t.name,variant:t.variantName||"",brand:t.brand,price:parseFloat(t.price),quantity:Number(t.quantity||0)});return JSON.stringify(r)}):[]}function $(e,t){const{eventName:r,payload:a}=e;if(!a.hasUserConsent)return Promise.resolve();let n=[];const i=a;return r===E.PAGE_VIEW?n=n.concat(ye(i),pt(i)):r===E.ADD_TO_CART?n=n.concat(yt(a)):r===E.PAGE_VIEW_2?n=n.concat(ye(i),ft(i)):r===E.COLLECTION_VIEW?n=n.concat(ht(i)):r===E.PRODUCT_VIEW?n=n.concat(gt(i)):r===E.SEARCH_VIEW&&(n=n.concat(mt(i))),n.length?wt(n,t):Promise.resolve()}function vt(){return typeof window>"u"||!window.navigator?!1:/Chrome-Lighthouse/.test(window.navigator.userAgent)}const ve="sendShopifyAnalytics request is unsuccessful";function wt(e,t){if(vt())return Promise.resolve();const r={events:e,metadata:{event_sent_at_ms:Date.now()}};try{return fetch(t?`https://${t}/.well-known/shopify/monorail/unstable/produce_batch`:"https://monorail-edge.shopifysvc.com/unstable/produce_batch",{method:"post",headers:{"content-type":"text/plain"},body:JSON.stringify(r)}).then(a=>{if(!a.ok)throw new Error("Response failed");return a.text()}).then(a=>{a&&JSON.parse(a).result.forEach(i=>{i.status!==200&&console.error(ve,`

`,i.message)})}).catch(a=>{console.error(ve,a)})}catch{return Promise.resolve()}}function _t(){if(at("getClientBrowserParameters"))return{uniqueToken:"",visitToken:"",url:"",path:"",search:"",referrer:"",title:"",userAgent:"",navigationType:"",navigationApi:""};const[e,t]=Ct(),r=Ue(document.cookie);return{uniqueToken:r[x],visitToken:r[L],url:location.href,path:location.pathname,search:location.search,referrer:document.referrer,title:document.title,userAgent:navigator.userAgent,navigationType:e,navigationApi:t}}function Et(){try{const e=(performance==null?void 0:performance.getEntriesByType)&&(performance==null?void 0:performance.getEntriesByType("navigation"));if(e&&e[0]){const t=window.performance.getEntriesByType("navigation")[0].type;return t&&t.toString()}}catch{}}function Pt(){var e,t;try{if(PerformanceNavigation&&((e=performance==null?void 0:performance.navigation)==null?void 0:e.type)!==null&&((t=performance==null?void 0:performance.navigation)==null?void 0:t.type)!==void 0){const r=performance.navigation.type;switch(r){case PerformanceNavigation.TYPE_NAVIGATE:return"navigate";case PerformanceNavigation.TYPE_RELOAD:return"reload";case PerformanceNavigation.TYPE_BACK_FORWARD:return"back_forward";default:return`unknown: ${r}`}}}catch{}}function Ct(){try{let e="PerformanceNavigationTiming",t=Et();return t||(t=Pt(),e="performance.navigation"),t?[t,e]:["unknown","unknown"]}catch{}return["error","error"]}const we={};function It(e,t){const r=we[e];if(r)return r;const a=new Promise((n,i)=>{const o=document.createElement("script");t!=null&&t.module?o.type="module":o.type="text/javascript",o.src=e,o.onload=()=>{n(!0)},o.onerror=()=>{i(!1)},(t==null?void 0:t.in)==="head"?document.head.appendChild(o):document.body.appendChild(o);const s=t==null?void 0:t.attributes;s&&Object.keys(s).forEach(u=>{o.setAttribute(u,s[u])})});return we[e]=a,a}function X(e,t){const[r,a]=d.useState("loading");return d.useEffect(()=>{It(e,t).then(()=>a("done")).catch(()=>a("error"))},[e]),r}const At="https://cdn.shopify.com/shopifycloud/shop-js/v1.0/client.js";function St(e){return e==="headless"||e==="hydrogen"}function bt({channel:e,variantIds:t,className:r,variantIdsAndQuantities:a,width:n,storeDomain:i}){const o=Ke(),s=i||(o==null?void 0:o.storeDomain),u=X(At);let c=[],l;if(!s||s===ze.storeDomain)throw new Error(Tt);if(t&&a)throw new Error(Dt);if(!t&&!a)throw new Error(_e);if(e)if(St(e))l=e;else throw new Error(xt);if(t)c=t.reduce((g,f)=>{const y=_(f).id;return y&&g.push(y),g},[]);else if(a)c=a.reduce((g,f)=>{const y=_(f==null?void 0:f.id).id;return y&&g.push(`${y}:${(f==null?void 0:f.quantity)??1}`),g},[]);else throw new Error(_e);if(c.length===0)throw new Error(kt);const p=n?{"--shop-pay-button-width":n}:void 0;return v.jsx("div",{className:r,style:p,children:u==="done"&&v.jsx("shop-pay-button",{...l?{channel:l}:{},"store-url":s,variants:c.join(",")})})}const Tt='You must pass a "storeDomain" prop to the "ShopPayButton" component, or wrap it in a "ShopifyProvider" component.',kt='You must pass in "variantIds" in the form of ["gid://shopify/ProductVariant/1"]',_e='You must pass in either "variantIds" or "variantIdsAndQuantities" to ShopPayButton',Dt="You must provide either a variantIds or variantIdsAndQuantities prop, but not both in the ShopPayButton component",xt='Invalid channel attribution value. Must be either "headless" or "hydrogen"',Lt=60*60*24*360*1,Ot=60*30;function Rt(e){const{hasUserConsent:t=!1,domain:r="",checkoutDomain:a=""}=e||{};d.useEffect(()=>{const n=Ue(document.cookie);let i=r||window.document.location.host;if(a){const s=a.split(".").reverse(),u=i.split(".").reverse(),c=[];s.forEach((l,p)=>{l===u[p]&&c.push(l)}),i=c.reverse().join(".")}/^localhost/.test(i)&&(i="");const o=i?/^\./.test(i)?i:`.${i}`:"";t?(B(x,n[x]||K(),Lt,o),B(L,n[L]||K(),Ot,o)):(B(x,"",0,o),B(L,"",0,o))},[e,t,r,a])}function B(e,t,r,a){document.cookie=rt(e,t,{maxage:r,domain:a,samesite:"Lax",path:"/"})}function R(e){let{type:t,data:r={},customData:a}=e,n=ne(),{publish:i,cart:o,prevCart:s,shop:u,customData:c}=Z(),l=n.pathname+n.search,p={...r,customData:{...c,...a},cart:o,prevCart:s,shop:u};return d.useEffect(()=>{u!=null&&u.shopId&&(p={...p,url:window.location.href},i(t,p))},[i,l,u==null?void 0:u.shopId]),null}function Nt(e){return v.jsx(R,{...e,type:"page_viewed"})}function Ut(e){return v.jsx(R,{...e,type:"product_viewed"})}function Vt(e){return v.jsx(R,{...e,type:"collection_viewed"})}function jt(e){return v.jsx(R,{...e,type:"cart_viewed"})}function $t(e){return v.jsx(R,{...e,type:"search_viewed"})}function Mt(e){return v.jsx(R,{...e})}var C={PAGE_VIEWED:"page_viewed",PRODUCT_VIEWED:"product_viewed",COLLECTION_VIEWED:"collection_viewed",CART_VIEWED:"cart_viewed",SEARCH_VIEWED:"search_viewed",CART_UPDATED:"cart_updated",PRODUCT_ADD_TO_CART:"product_added_to_cart",PRODUCT_REMOVED_FROM_CART:"product_removed_from_cart",CUSTOM_EVENT:"custom_"},Bt="https://cdn.shopify.com/shopifycloud/consent-tracking-api/v0.1/consent-tracking-api.js",Wt="https://cdn.shopify.com/shopifycloud/privacy-banner/storefront-banner.js";function Q(e){console.error(`[h2:error:useCustomerPrivacy] Unable to setup Customer Privacy API: Missing consent.${e} configuration.`)}function qt(e){let{withPrivacyBanner:t=!1,onVisitorConsentCollected:r,onReady:a,...n}=e;X(t?Wt:Bt,{attributes:{id:"customer-privacy-api"}});let{observing:i,setLoaded:o}=Gt({withPrivacyBanner:t,onLoaded:a}),s=d.useMemo(()=>{let{checkoutDomain:c,storefrontAccessToken:l}=n;return c||Q("checkoutDomain"),l||Q("storefrontAccessToken"),(l.startsWith("shpat_")||l.length!==32)&&console.error("[h2:error:useCustomerPrivacy] It looks like you passed a private access token, make sure to use the public token"),{checkoutRootDomain:c,storefrontAccessToken:l,storefrontRootDomain:Ce(c),country:n.country,locale:n.locale}},[n,Ce,Q]);d.useEffect(()=>{let c=l=>{r&&r(l.detail)};return document.addEventListener("visitorConsentCollected",c),()=>{document.removeEventListener("visitorConsentCollected",c)}},[r]),d.useEffect(()=>{if(!t||i.current.privacyBanner)return;i.current.privacyBanner=!0;let c=window.privacyBanner||void 0;Object.defineProperty(window,"privacyBanner",{configurable:!0,get(){return c},set(l){if(typeof l=="object"&&l!==null&&"showPreferences"in l&&"loadBanner"in l){let p=l;p.loadBanner(s),c=Ae({privacyBanner:p,config:s}),o.privacyBanner(),Pe()}}})},[t,s,Ae,o.privacyBanner]),d.useEffect(()=>{if(i.current.customerPrivacy)return;i.current.customerPrivacy=!0;let c=null,l=window.Shopify||void 0;Object.defineProperty(window,"Shopify",{configurable:!0,get(){return l},set(p){typeof p=="object"&&p!==null&&Object.keys(p).length===0&&(l=p,Object.defineProperty(window.Shopify,"customerPrivacy",{configurable:!0,get(){return c},set(g){if(typeof g=="object"&&g!==null&&"setTrackingConsent"in g){let f=g;c={...f,setTrackingConsent:Ie({customerPrivacy:f,config:s})},l={...l,customerPrivacy:c},o.customerPrivacy(),Pe()}}}))}})},[s,Ie,o.customerPrivacy]);let u={customerPrivacy:z()};return t&&(u.privacyBanner=ee()),u}var Ee=!1;function Pe(){if(Ee)return;Ee=!0;let e=new CustomEvent("shopifyCustomerPrivacyApiLoaded");document.dispatchEvent(e)}function Gt({withPrivacyBanner:e,onLoaded:t}){let r=d.useRef({customerPrivacy:!1,privacyBanner:!1}),[a,n]=d.useState(e?[!1,!1]:[!1]),i=a.every(Boolean),o={customerPrivacy:()=>{n(e?s=>[!0,s[1]]:()=>[!0])},privacyBanner:()=>{e&&n(s=>[s[0],!0])}};return d.useEffect(()=>{i&&t&&t()},[i,t]),{observing:r,setLoaded:o}}function Ce(e){if(typeof window>"u")return;let t=window.document.location.host,r=e.split(".").reverse(),a=t.split(".").reverse(),n=[];return r.forEach((i,o)=>{i===a[o]&&n.push(i)}),n.reverse().join(".")}function Ie({customerPrivacy:e,config:t}){let r=e.setTrackingConsent,{locale:a,country:n,...i}=t;function o(s,u){r({...i,headlessStorefront:!0,...s},u)}return o}function Ae({privacyBanner:e,config:t}){let r=e.loadBanner,a=e.showPreferences;function n(o){if(typeof o=="object"){r({...t,...o});return}r(t)}function i(o){if(typeof o=="object"){a({...t,...o});return}a(t)}return{loadBanner:n,showPreferences:i}}function z(){var e;try{return window.Shopify&&window.Shopify.customerPrivacy?(e=window.Shopify)==null?void 0:e.customerPrivacy:null}catch{return null}}function ee(){try{return window&&(window!=null&&window.privacyBanner)?window.privacyBanner:null}catch{return null}}var Ht="2025.1.1";function Ft(){let e=z();if(!e)throw new Error("Shopify Customer Privacy API not available. Must be used within a useEffect. Make sure to load the Shopify Customer Privacy API with useCustomerPrivacy() or <AnalyticsProvider>.");return e}function Jt({consent:e,onReady:t,domain:r}){let{subscribe:a,register:n,canTrack:i}=Z(),[o,s]=d.useState(!1),[u,c]=d.useState(!1),l=d.useRef(!1),{checkoutDomain:p,storefrontAccessToken:g,language:f}=e,{ready:y}=n("Internal_Shopify_Analytics");return qt({...e,locale:f,checkoutDomain:p||"mock.shop",storefrontAccessToken:g||"abcdefghijklmnopqrstuvwxyz123456",onVisitorConsentCollected:()=>c(!0),onReady:()=>c(!0)}),Rt({hasUserConsent:u?i():!0,domain:r,checkoutDomain:p}),d.useEffect(()=>{l.current||(l.current=!0,a(C.PAGE_VIEWED,Kt),a(C.PRODUCT_VIEWED,zt),a(C.COLLECTION_VIEWED,Xt),a(C.SEARCH_VIEWED,Zt),a(C.PRODUCT_ADD_TO_CART,Qt),s(!0))},[a]),d.useEffect(()=>{o&&u&&(y(),t())},[o,u,t]),null}function W(e){console.error(`[h2:error:ShopifyAnalytics] Unable to send Shopify analytics: Missing shop.${e} configuration.`)}function M(e){var a,n,i,o;let t=Ft(),r=t.analyticsProcessingAllowed();if(!((a=e==null?void 0:e.shop)!=null&&a.shopId)){W("shopId");return}if(!((n=e==null?void 0:e.shop)!=null&&n.acceptedLanguage)){W("acceptedLanguage");return}if(!((i=e==null?void 0:e.shop)!=null&&i.currency)){W("currency");return}if(!((o=e==null?void 0:e.shop)!=null&&o.hydrogenSubchannelId)){W("hydrogenSubchannelId");return}return{shopifySalesChannel:"hydrogen",assetVersionId:Ht,...e.shop,hasUserConsent:r,..._t(),ccpaEnforced:!t.saleOfDataAllowed(),gdprEnforced:!(t.marketingAllowed()&&t.analyticsProcessingAllowed()),analyticsAllowed:t.analyticsProcessingAllowed(),marketingAllowed:t.marketingAllowed(),saleOfDataAllowed:t.saleOfDataAllowed()}}function Yt(e,t){if(t===null)return;let r=M(e);return r?{...r,cartId:t.id}:void 0}var T={};function Kt(e){let t=M(e);t&&($({eventName:E.PAGE_VIEW_2,payload:{...t,...T}}),T={})}function zt(e){let t=M(e);if(t&&Be({type:"product",products:e.products})){let r=te(e.products);T={pageType:O.product,resourceId:r[0].productGid},t={...t,...T,products:te(e.products)},$({eventName:E.PRODUCT_VIEW,payload:t})}}function Xt(e){let t=M(e);t&&(T={pageType:O.collection,resourceId:e.collection.id},t={...t,...T,collectionHandle:e.collection.handle,collectionId:e.collection.id},$({eventName:E.COLLECTION_VIEW,payload:t}))}function Zt(e){let t=M(e);t&&(T={pageType:O.search},t={...t,...T,searchString:e.searchTerm},$({eventName:E.SEARCH_VIEW,payload:t}))}function Qt(e){let{cart:t,currentLine:r}=e,a=Yt(e,t);!a||!(r!=null&&r.id)||er({matchedLine:r,eventPayload:a})}function er({matchedLine:e,eventPayload:t}){let r={id:e.merchandise.product.id,variantId:e.merchandise.id,title:e.merchandise.product.title,variantTitle:e.merchandise.title,vendor:e.merchandise.product.vendor,price:e.merchandise.price.amount,quantity:e.quantity,productType:e.merchandise.product.productType,sku:e.merchandise.sku};Be({type:"cart",products:[r]})&&$({eventName:E.ADD_TO_CART,payload:{...t,products:te([r])}})}function k(e,t,r,a){if(e==="cart"){let n=`${r?"merchandise":"merchandise.product"}.${t}`;console.error(`[h2:error:ShopifyAnalytics] Can't set up cart analytics events because the \`cart.lines[].${n}\` value is missing from your GraphQL cart query. In your project, search for where \`fragment CartLine on CartLine\` is defined and make sure \`${n}\` is part of your cart query. Check the Hydrogen Skeleton template for reference: https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/lib/fragments.ts#L25-L56.`)}else{let n=`${a||t}`;console.error(`[h2:error:ShopifyAnalytics] Can't set up product view analytics events because the \`${n}\` is missing from your \`<Analytics.ProductView>\`. Make sure \`${n}\` is part of your products data prop. Check the Hydrogen Skeleton template for reference: https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/routes/products.%24handle.tsx#L159-L165.`)}}function Be({type:e,products:t}){return!t||t.length===0?(k(e,"",!1,"data.products"),!1):(t.forEach(r=>{if(!r.id)return k(e,"id",!1),!1;if(!r.title)return k(e,"title",!1),!1;if(!r.price)return k(e,"price.amount",!0,"price"),!1;if(!r.vendor)return k(e,"vendor",!1),!1;if(!r.variantId)return k(e,"id",!0,"variantId"),!1;if(!r.variantTitle)return k(e,"title",!0,"variantTitle"),!1}),!0)}function te(e){return e.map(t=>{let r={productGid:t.id,variantGid:t.variantId,name:t.title,variantName:t.variantTitle,brand:t.vendor,price:t.price,quantity:t.quantity||1,category:t.productType};return t.sku&&(r.sku=t.sku),t.productType&&(r.category=t.productType),r})}function Se(e){console.error(`[h2:error:CartAnalytics] Can't set up cart analytics events because the \`cart.${e}\` value is missing from your GraphQL cart query. In your project, search for where \`fragment CartApiQuery on Cart\` is defined and make sure \`${e}\` is part of your cart query. Check the Hydrogen Skeleton template for reference: https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/lib/fragments.ts#L59.`)}function tr({cart:e,setCarts:t}){let{publish:r,shop:a,customData:n,canTrack:i,cart:o,prevCart:s}=Z(),u=d.useRef(null);return d.useEffect(()=>{if(e)return Promise.resolve(e).then(c=>{if(c&&c.lines){if(!c.id){Se("id");return}if(!c.updatedAt){Se("updatedAt");return}}t(({cart:l,prevCart:p})=>(c==null?void 0:c.updatedAt)!==(l==null?void 0:l.updatedAt)?{cart:c,prevCart:l}:{cart:l,prevCart:p})}),()=>{}},[t,e]),d.useEffect(()=>{if(!o||!(o!=null&&o.updatedAt)||(o==null?void 0:o.updatedAt)===(s==null?void 0:s.updatedAt))return;let c;try{c=JSON.parse(localStorage.getItem("cartLastUpdatedAt")||"")}catch{c=null}if(o.id===(c==null?void 0:c.id)&&o.updatedAt===(c==null?void 0:c.updatedAt))return;let l={eventTimestamp:Date.now(),cart:o,prevCart:s,shop:a,customData:n};if(o.updatedAt===u.current)return;u.current=o.updatedAt,r("cart_updated",l),localStorage.setItem("cartLastUpdatedAt",JSON.stringify({id:o.id,updatedAt:o.updatedAt}));let p=s!=null&&s.lines?U(s==null?void 0:s.lines):[],g=o.lines?U(o.lines):[];p==null||p.forEach(f=>{let y=g.filter(h=>f.id===h.id);if((y==null?void 0:y.length)===1){let h=y[0];f.quantity<h.quantity?r("product_added_to_cart",{...l,prevLine:f,currentLine:h}):f.quantity>h.quantity&&r("product_removed_from_cart",{...l,prevLine:f,currentLine:h})}else r("product_removed_from_cart",{...l,prevLine:f})}),g==null||g.forEach(f=>{let y=p.filter(h=>f.id===h.id);(!y||y.length===0)&&r("product_added_to_cart",{...l,currentLine:f})})},[o,s,r,a,n,i]),null}var rr="https://cdn.shopify.com/shopifycloud/perf-kit/shopify-perf-kit-1.0.1.min.js";function nr({shop:e}){let t=d.useRef(!1),{subscribe:r,register:a}=Z(),{ready:n}=a("Internal_Shopify_Perf_Kit"),i=X(rr,{attributes:{id:"perfkit","data-application":"hydrogen","data-shop-id":_(e.shopId).id.toString(),"data-storefront-id":e.hydrogenSubchannelId,"data-monorail-region":"global","data-spa-mode":"true","data-resource-timing-sampling-rate":"100"}});return d.useEffect(()=>{i!=="done"||t.current||(t.current=!0,r(C.PAGE_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.navigate()}),r(C.PRODUCT_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.setPageType("product")}),r(C.COLLECTION_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.setPageType("collection")}),r(C.SEARCH_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.setPageType("search")}),r(C.CART_VIEWED,()=>{var o;(o=window.PerfKit)==null||o.setPageType("cart")}),n())},[r,n,i]),null}var be=new Set,or=e=>{be.has(e)||(console.warn(e),be.add(e))},Te=new Set,ke=e=>{Te.has(e)||(console.error(new Error(e)),Te.add(e))},ar={canTrack:()=>!1,cart:null,customData:{},prevCart:null,publish:()=>{},shop:null,subscribe:()=>{},register:()=>({ready:()=>{}}),customerPrivacy:null,privacyBanner:null},We=d.createContext(ar),J=new Map,V={};function qe(){return Object.values(V).every(Boolean)}function De(e,t){var r;J.has(e)||J.set(e,new Map),(r=J.get(e))==null||r.set(t.toString(),t)}var Y=new Map;function xe(e,t){if(!qe()){Y.set(e,t);return}Ge(e,t)}function Ge(e,t){(J.get(e)??new Map).forEach((r,a)=>{try{r(t)}catch(n){typeof n=="object"&&n instanceof Error?console.error("Analytics publish error",n.message,a,n.stack):console.error("Analytics publish error",n,a)}})}function Le(e){return V.hasOwnProperty(e)||(V[e]=!1),{ready:()=>{V[e]=!0,qe()&&Y.size>0&&(Y.forEach((t,r)=>{Ge(r,t)}),Y.clear())}}}function Oe(){try{return window.Shopify.customerPrivacy.analyticsProcessingAllowed()}catch{}return!1}function Re(e,t){return`[h2:error:Analytics.Provider] - ${e} is required. Make sure ${t} is defined in your environment variables. See https://h2o.fyi/analytics/consent to learn how to setup environment variables in the Shopify admin.`}function ir({canTrack:e,cart:t,children:r,consent:a,customData:n={},shop:i=null,cookieDomain:o}){var m;let s=d.useRef(!1),{shop:u}=sr(i),[c,l]=d.useState(!!e),[p,g]=d.useState({cart:null,prevCart:null}),[f,y]=d.useState(e?()=>e:()=>Oe);if(u)if(/\/68817551382$/.test(u.shopId))or("[h2:error:Analytics.Provider] - Mock shop is used. Analytics will not work properly.");else{if(!a.checkoutDomain){let w=Re("consent.checkoutDomain","PUBLIC_CHECKOUT_DOMAIN");ke(w)}if(!a.storefrontAccessToken){let w=Re("consent.storefrontAccessToken","PUBLIC_STOREFRONT_API_TOKEN");ke(w)}a!=null&&a.country||(a.country="US"),a!=null&&a.language||(a.language="EN"),a.withPrivacyBanner===void 0&&(a.withPrivacyBanner=!1)}let h=d.useMemo(()=>({canTrack:f,...p,customData:n,publish:f()?xe:()=>{},shop:u,subscribe:De,register:Le,customerPrivacy:z(),privacyBanner:ee()}),[c,f,p,(m=p.cart)==null?void 0:m.updatedAt,p.prevCart,xe,De,n,u,Le,JSON.stringify(V),z,ee]);return v.jsxs(We.Provider,{value:h,children:[r,!!u&&v.jsx(Nt,{}),!!u&&!!t&&v.jsx(tr,{cart:t,setCarts:g}),!!u&&a.checkoutDomain&&v.jsx(Jt,{consent:a,onReady:()=>{s.current=!0,l(!0),y(e?()=>e:()=>Oe)},domain:o}),!!u&&v.jsx(nr,{shop:u})]})}function Z(){let e=d.useContext(We);if(!e)throw new Error("[h2:error:useAnalytics] 'useAnalytics()' must be a descendent of <AnalyticsProvider/>");return e}function sr(e){let[t,r]=d.useState(null);return d.useEffect(()=>(Promise.resolve(e).then(r),()=>{}),[r,e]),{shop:t}}var yr={CartView:jt,CollectionView:Vt,CustomView:Mt,ProductView:Ut,Provider:ir,SearchView:$t},He="cartFormInput";function ae({children:e,action:t,inputs:r,route:a,fetcherKey:n}){let i=Je({key:n});return v.jsxs(i.Form,{action:a||"",method:"post",children:[(t||r)&&v.jsx("input",{type:"hidden",name:He,value:JSON.stringify({action:t,inputs:r})}),typeof e=="function"?e(i):e]})}ae.INPUT_NAME=He;ae.ACTIONS={AttributesUpdateInput:"AttributesUpdateInput",BuyerIdentityUpdate:"BuyerIdentityUpdate",Create:"Create",DiscountCodesUpdate:"DiscountCodesUpdate",GiftCardCodesUpdate:"GiftCardCodesUpdate",LinesAdd:"LinesAdd",LinesRemove:"LinesRemove",LinesUpdate:"LinesUpdate",NoteUpdate:"NoteUpdate",SelectedDeliveryOptionsUpdate:"SelectedDeliveryOptionsUpdate",MetafieldsSet:"MetafieldsSet",MetafieldDelete:"MetafieldDelete"};function cr(e){let t={};for(let o of e.entries()){let s=o[0],u=e.getAll(s);t[s]=u.length>1?u:o[1]}let{cartFormInput:r,...a}=t,{action:n,inputs:i}=r?JSON.parse(String(r)):{};return{action:n,inputs:{...i,...a}}}ae.getFormInput=cr;var Fe=d.createContext(void 0);Fe.Provider;var ur=()=>d.useContext(Fe);d.forwardRef((e,t)=>{let{waitForHydration:r,src:a,...n}=e,i=ur();return r?v.jsx(lr,{src:a,options:n}):v.jsx("script",{suppressHydrationWarning:!0,...n,src:a,nonce:i,ref:t})});function lr({src:e,options:t}){if(!e)throw new Error("`waitForHydration` with the Script component requires a `src` prop");return X(e,{attributes:t}),null}function vr(e){let t=Ye(),r={};for(let{formData:a}of t)if((a==null?void 0:a.get("optimistic-identifier"))===e)try{if(a.has("optimistic-data")){let n=JSON.parse(String(a.get("optimistic-data")));Object.assign(r,n)}}catch{}return r}function wr({id:e,data:t}){return v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"hidden",name:"optimistic-identifier",value:e}),v.jsx("input",{type:"hidden",name:"optimistic-data",value:JSON.stringify(t)})]})}function _r({connection:e,children:t=()=>(console.warn("<Pagination> requires children to work properly"),null),namespace:r=""}){let[a,n]=d.useState(!1),i=re(),o=ne();Ne(),d.useEffect(()=>{i.state==="idle"&&n(!1)},[i.state]);let{endCursor:s,hasNextPage:u,hasPreviousPage:c,nextPageUrl:l,nodes:p,previousPageUrl:g,startCursor:f}=dr(e,r),y=d.useMemo(()=>{var w;return{...o.state,pagination:{...((w=o.state)==null?void 0:w.pagination)||{},[r]:{pageInfo:{endCursor:s,hasPreviousPage:c,hasNextPage:u,startCursor:f},nodes:p}}}},[s,u,c,f,p,r,o.state]),h=d.useMemo(()=>d.forwardRef(function(w,D){return u?d.createElement(fe,{preventScrollReset:!0,...w,to:l,state:y,replace:!0,ref:D,onClick:()=>n(!0)}):null}),[u,l,y]),m=d.useMemo(()=>d.forwardRef(function(w,D){return c?d.createElement(fe,{preventScrollReset:!0,...w,to:g,state:y,replace:!0,ref:D,onClick:()=>n(!0)}):null}),[c,g,y]);return t({state:y,hasNextPage:u,hasPreviousPage:c,isLoading:a,nextPageUrl:l,nodes:p,previousPageUrl:g,NextLink:h,PreviousLink:m})}function q(e,t){let r=new URLSearchParams(e);return Object.keys((t==null?void 0:t.pagination)||{}).forEach(a=>{let n=a===""?"":`${a}_`,i=`${n}cursor`,o=`${n}direction`;r.delete(i),r.delete(o)}),r.toString()}function N(e){throw new Error(`The Pagination component requires ${"`"+e+"`"} to be a part of your query. See the guide on how to setup your query to include ${"`"+e+"`"}: https://shopify.dev/docs/custom-storefronts/hydrogen/data-fetching/pagination#setup-the-paginated-query`)}function dr(e,t=""){e.pageInfo||N("pageInfo"),typeof e.pageInfo.startCursor>"u"&&N("pageInfo.startCursor"),typeof e.pageInfo.endCursor>"u"&&N("pageInfo.endCursor"),typeof e.pageInfo.hasNextPage>"u"&&N("pageInfo.hasNextPage"),typeof e.pageInfo.hasPreviousPage>"u"&&N("pageInfo.hasPreviousPage");let r=re(),a=Ne(),{state:n,search:i,pathname:o}=ne(),s=t?`${t}_cursor`:"cursor",u=t?`${t}_direction`:"direction",c=new URLSearchParams(i).get(u)==="previous",l=d.useMemo(()=>{var h,m,w;return!((h=globalThis==null?void 0:globalThis.window)!=null&&h.__hydrogenHydrated)||!((w=(m=n==null?void 0:n.pagination)==null?void 0:m[t])!=null&&w.nodes)?U(e):c?[...U(e),...n.pagination[t].nodes||[]]:[...n.pagination[t].nodes||[],...U(e)]},[n,e,t]),p=d.useMemo(()=>{var ce,ue,le,de,pe;let h=(ce=globalThis==null?void 0:globalThis.window)==null?void 0:ce.__hydrogenHydrated,m=(le=(ue=n==null?void 0:n.pagination)==null?void 0:ue[t])==null?void 0:le.pageInfo,w=!h||(m==null?void 0:m.startCursor)===void 0?e.pageInfo.startCursor:m.startCursor,D=!h||(m==null?void 0:m.endCursor)===void 0?e.pageInfo.endCursor:m.endCursor,ie=!h||(m==null?void 0:m.hasPreviousPage)===void 0?e.pageInfo.hasPreviousPage:m.hasPreviousPage,se=!h||(m==null?void 0:m.hasNextPage)===void 0?e.pageInfo.hasNextPage:m.hasNextPage;return(pe=(de=n==null?void 0:n.pagination)==null?void 0:de[t])!=null&&pe.nodes&&(c?(w=e.pageInfo.startCursor,ie=e.pageInfo.hasPreviousPage):(D=e.pageInfo.endCursor,se=e.pageInfo.hasNextPage)),{startCursor:w,endCursor:D,hasPreviousPage:ie,hasNextPage:se}},[c,n,t,e.pageInfo.hasNextPage,e.pageInfo.hasPreviousPage,e.pageInfo.startCursor,e.pageInfo.endCursor]),g=d.useRef({params:q(i,n),pathname:o});d.useEffect(()=>{window.__hydrogenHydrated=!0},[]),d.useEffect(()=>{let h=q(i,n),m=g.current.params;(o!==g.current.pathname||h!==m)&&!(r.state==="idle"&&!r.location)&&(g.current={pathname:o,params:q(i,n)},a(`${o}?${q(i,n)}`,{replace:!0,preventScrollReset:!0,state:{nodes:void 0,pageInfo:void 0}}))},[o,i,n]);let f=d.useMemo(()=>{let h=new URLSearchParams(i);return h.set(u,"previous"),p.startCursor&&h.set(s,p.startCursor),`?${h.toString()}`},[i,p.startCursor]),y=d.useMemo(()=>{let h=new URLSearchParams(i);return h.set(u,"next"),p.endCursor&&h.set(s,p.endCursor),`?${h.toString()}`},[i,p.endCursor]);return{...p,previousPageUrl:f,nextPageUrl:y,nodes:l}}function Er(e,t){let r=re(),[a,n]=d.useState([]);if(d.useEffect(()=>{Promise.resolve(t).then(i=>{var o,s;i&&n(i instanceof Array?i:((s=(o=i.product)==null?void 0:o.variants)==null?void 0:s.nodes)||[])}).catch(i=>{reportError(new Error("[h2:error:useOptimisticVariant] An error occurred while resolving the variants for the optimistic product hook.",{cause:i}))})},[JSON.stringify(t)]),r.state==="loading"){let i=new URLSearchParams(r.location.search),o=!1,s=a.find(u=>u.selectedOptions?u.selectedOptions.every(c=>i.get(c.name)===c.value):(o||(o=!0,reportError(new Error("[h2:error:useOptimisticVariant] The optimistic product hook requires your product query to include variants with the selectedOptions field."))),!1));if(s)return{...s,isOptimistic:!0}}return e}var b="Error in SEO input: ",G={title:{validate:e=>{if(typeof e!="string")throw new Error(b.concat("`title` should be a string"));if(typeof e=="string"&&e.length>120)throw new Error(b.concat("`title` should not be longer than 120 characters"));return e}},description:{validate:e=>{if(typeof e!="string")throw new Error(b.concat("`description` should be a string"));if(typeof e=="string"&&e.length>155)throw new Error(b.concat("`description` should not be longer than 155 characters"));return e}},url:{validate:e=>{if(typeof e!="string")throw new Error(b.concat("`url` should be a string"));if(typeof e=="string"&&!e.startsWith("http"))throw new Error(b.concat("`url` should be a valid URL"));return e}},handle:{validate:e=>{if(typeof e!="string")throw new Error(b.concat("`handle` should be a string"));if(typeof e=="string"&&!e.startsWith("@"))throw new Error(b.concat("`handle` should start with `@`"));return e}}};function pr(e,t){if(t)return e?typeof e=="function"?e(t):e.replace("%s",t??""):t}function fr(e){switch(e&&e.split(".").pop()){case"svg":return"image/svg+xml";case"png":return"image/png";case"gif":return"image/gif";case"swf":return"application/x-shockwave-flash";case"mp3":return"audio/mpeg";case"jpg":case"jpeg":default:return"image/jpeg"}}function H(e){return Array.isArray(e)?e:[e]}function F(e,t){try{return e.validate(t)}catch(r){return console.warn(r.message),t}}function Pr(...e){let t=[],r=e.reduce((a,n)=>{if(!n)return a;Object.keys(n).forEach(o=>!n[o]&&delete n[o]);let{jsonLd:i}=n;return i?a!=null&&a.jsonLd?{...a,...n,jsonLd:H(a.jsonLd).concat(i)}:{...a,...n,jsonLd:[i]}:{...a,...n}},{})||{};for(let a of Object.keys(r))switch(a){case"title":{let n=F(G.title,r.title),i=pr(r==null?void 0:r.titleTemplate,n);if(!i)break;t.push({title:i},{property:"og:title",content:i},{property:"twitter:title",content:i});break}case"description":{let n=F(G.description,r.description);if(!n)break;t.push({name:"description",content:n},{property:"og:description",content:n},{property:"twitter:description",content:n});break}case"url":{let n=F(G.url,r.url);if(!n)break;let i=n.split("?")[0].replace(/\/$/,"");t.push({tagName:"link",rel:"canonical",href:i},{property:"og:url",content:i});break}case"handle":{let n=F(G.handle,r.handle);if(!n)break;t.push({property:"twitter:site",content:n},{property:"twitter:creator",content:n});break}case"media":{let n,i=H(r.media);for(let o of i)if(typeof o=="string"&&t.push({property:"og:image",content:o}),o&&typeof o=="object"){let s=o.type||"image",u=o?{url:o==null?void 0:o.url,secure_url:o==null?void 0:o.url,type:fr(o.url),width:o==null?void 0:o.width,height:o==null?void 0:o.height,alt:o==null?void 0:o.altText}:{};for(let c of Object.keys(u))u[c]&&(n=u[c],t.push({property:`og:${s}:${c}`,content:n}))}break}case"jsonLd":{let n=H(r.jsonLd);for(let i of n)typeof i!="object"||Object.keys(i).length===0||t.push({"script:ld+json":i});break}case"alternates":{let n=H(r.alternates);for(let i of n){if(!i)continue;let{language:o,url:s,default:u}=i,c=o?`${o}${u?"-default":""}`:void 0;t.push({tagName:"link",rel:"alternate",hrefLang:c,href:s})}break}case"robots":{if(!r.robots)break;let{maxImagePreview:n,maxSnippet:i,maxVideoPreview:o,noArchive:s,noFollow:u,noImageIndex:c,noIndex:l,noSnippet:p,noTranslate:g,unavailableAfter:f}=r.robots,y=[s&&"noarchive",c&&"noimageindex",p&&"nosnippet",g&&"notranslate",n&&`max-image-preview:${n}`,i&&`max-snippet:${i}`,o&&`max-video-preview:${o}`,f&&`unavailable_after:${f}`],h=(l?"noindex":"index")+","+(u?"nofollow":"follow");for(let m of y)m&&(h+=`,${m}`);t.push({name:"robots",content:h});break}}return t}d.lazy(()=>Qe(()=>import("./log-seo-tags-TY72EQWZ-DCHH-_Gl.js"),[]));function Cr(e){return v.jsx(bt,{channel:"hydrogen",...e})}export{wr as C,Er as O,Pr as W,yr as Z,vr as h,ae as j,ur as q,Cr as t,X as u,_r as v};
