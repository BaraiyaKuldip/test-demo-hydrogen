import{u as p,j as e,F as h,r as j,A as f}from"./components-DQ2b9yAr.js";import{v as g,Z as y,W as b}from"./index-Br0rWYvY.js";import{P as N,H as P,S as c,T as v}from"./Text-D7gGMkA0.js";import{I as F}from"./Input-C6dzUuOT.js";import{G as S}from"./Grid-CBS-WyhR.js";import{P as w}from"./ProductCard-Bqw9g1qc.js";import{P as R}from"./ProductSwimlane-DW3K1UZg.js";import{F as T}from"./FeaturedCollections-BYrif--b.js";import{g as C}from"./const-DYJb6-3l.js";import"./flatten-connection-BTqmuHGw.js";import"./ShopifyProvider-CZDC5trg.js";import"./Link-BHsmA1K4.js";import"./Button-BlMkXThQ.js";import"./Image-l8cnschg.js";import"./Money-DRLg9VWE.js";const K=({matches:t})=>b(...t.map(r=>r.data.seo));function O(){var n;const{searchTerm:t,products:r,noResultRecommendations:s}=p(),a=((n=r==null?void 0:r.nodes)==null?void 0:n.length)===0;return e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:[e.jsx(P,{as:"h1",size:"copy",children:"Search"}),e.jsxs(h,{method:"get",className:"relative flex w-full text-heading",children:[e.jsx(F,{defaultValue:t,name:"q",placeholder:"Searchâ€¦",type:"search",variant:"search"}),e.jsx("button",{className:"absolute right-0 py-2",type:"submit",children:"Go"})]})]}),!t||a?e.jsx(k,{noResults:a,recommendations:s}):e.jsx(c,{children:e.jsx(g,{connection:r,children:({nodes:l,isLoading:o,NextLink:d,PreviousLink:m})=>{const u=l.map((i,x)=>e.jsx(w,{product:i,loading:C(x)},i.id));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center mt-6",children:e.jsx(m,{className:"inline-block rounded font-medium text-center py-3 px-6 border border-primary/10 bg-contrast text-primary w-full",children:o?"Loading...":"Previous"})}),e.jsx(S,{"data-test":"product-grid",children:u}),e.jsx("div",{className:"flex items-center justify-center mt-6",children:e.jsx(d,{className:"inline-block rounded font-medium text-center py-3 px-6 border border-primary/10 bg-contrast text-primary w-full",children:o?"Loading...":"Next"})})]})}})}),e.jsx(y.SearchView,{data:{searchTerm:t,searchResults:r}})]})}function k({noResults:t,recommendations:r}){return e.jsxs(e.Fragment,{children:[t&&e.jsx(c,{padding:"x",children:e.jsx(v,{className:"opacity-50",children:"No results, try a different search."})}),e.jsx(j.Suspense,{children:e.jsx(f,{errorElement:"There was a problem loading related products",resolve:r,children:s=>{if(!s)return null;const{featuredCollections:a,featuredProducts:n}=s;return e.jsxs(e.Fragment,{children:[e.jsx(T,{title:"Trending Collections",collections:a}),e.jsx(R,{title:"Trending Products",products:n})]})}})})]})}export{O as default,K as meta};
