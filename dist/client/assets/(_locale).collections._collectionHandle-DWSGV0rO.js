import{r as d,z as K,j as r,B as U,C as E,L as B,D as W,u as ne}from"./components-DQ2b9yAr.js";import{n as ae,u as se}from"./index-BCe6LKqh.js";import{v as ie,Z as oe,W as le}from"./index-Br0rWYvY.js";import{H as q,T as X,P as ce,S as ue}from"./Text-D7gGMkA0.js";import{G as de}from"./Grid-CBS-WyhR.js";import{B as G}from"./Button-BlMkXThQ.js";import{P as me}from"./ProductCard-Bqw9g1qc.js";import{a as fe,b as Z,c as pe}from"./Icon-w2kUzEIN.js";import{l as k,o as xe,O as z,U as F,y as C,b as ve,a as y,s as he,u as Y,d as M,C as T,I as Q,p as ee,T as ge,c as be,h as ye,e as Ie,f as h,r as je,g as _,_ as Ne,M as V,D as te,i as Re,A as O}from"./disclosure-DzYCDdcc.js";import{s as Se,u as we,c as I,f as Pe}from"./use-text-value-dEJFAgD8.js";import{g as $e}from"./const-DYJb6-3l.js";import"./flatten-connection-BTqmuHGw.js";import"./ShopifyProvider-CZDC5trg.js";import"./Link-BHsmA1K4.js";import"./Image-l8cnschg.js";import"./Money-DRLg9VWE.js";function ke({container:e,accept:a,walk:s,enabled:t=!0}){let n=d.useRef(a),o=d.useRef(s);d.useEffect(()=>{n.current=a,o.current=s},[a,s]),k(()=>{if(!e||!t)return;let l=xe(e);if(!l)return;let i=n.current,c=o.current,m=Object.assign(f=>i(f),{acceptNode:i}),p=l.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,m,!1);for(;p.nextNode();)c(p.currentNode)},[e,t,n,o])}var Me=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Me||{}),Ee=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ee||{}),Fe=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(Fe||{});function A(e,a=s=>s){let s=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,t=Re(a(e.items.slice()),o=>o.dataRef.current.domRef.current),n=s?t.indexOf(s):null;return n===-1&&(n=null),{items:t,activeItemIndex:n}}let Ce={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,a)=>{var s;let t=A(e),n=Pe(a,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...t,searchQuery:"",activeItemIndex:n,activationTrigger:(s=a.trigger)!=null?s:1}},3:(e,a)=>{let s=e.searchQuery!==""?0:1,t=e.searchQuery+a.value.toLowerCase(),n=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+s).concat(e.items.slice(0,e.activeItemIndex+s)):e.items).find(l=>{var i;return((i=l.dataRef.current.textValue)==null?void 0:i.startsWith(t))&&!l.dataRef.current.disabled}),o=n?e.items.indexOf(n):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:t}:{...e,searchQuery:t,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,a)=>{let s=A(e,t=>[...t,{id:a.id,dataRef:a.dataRef}]);return{...e,...s}},6:(e,a)=>{let s=A(e,t=>{let n=t.findIndex(o=>o.id===a.id);return n!==-1&&t.splice(n,1),t});return{...e,...s,activationTrigger:1}}},J=d.createContext(null);J.displayName="MenuContext";function L(e){let a=d.useContext(J);if(a===null){let s=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,L),s}return a}function Te(e,a){return Y(a.type,Ce,e,a)}let Le=d.Fragment;function De(e,a){let{__demoMode:s=!1,...t}=e,n=d.useReducer(Te,{__demoMode:s,menuState:s?0:1,buttonRef:d.createRef(),itemsRef:d.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:l,buttonRef:i},c]=n,m=C(a);ve([i,l],(b,N)=>{var v;c({type:1}),ye(N,Ie.Loose)||(b.preventDefault(),(v=i.current)==null||v.focus())},o===0);let p=y(()=>{c({type:1})}),f=d.useMemo(()=>({open:o===0,close:p}),[o,p]),x={ref:m};return K.createElement(J.Provider,{value:n},K.createElement(he,{value:Y(o,{0:M.Open,1:M.Closed})},T({ourProps:x,theirProps:t,slot:f,defaultTag:Le,name:"Menu"})))}let Oe="button";function Ae(e,a){var s;let t=Q(),{id:n=`headlessui-menu-button-${t}`,...o}=e,[l,i]=L("Menu.Button"),c=C(l.buttonRef,a),m=ee(),p=y(v=>{switch(v.key){case h.Space:case h.Enter:case h.ArrowDown:v.preventDefault(),v.stopPropagation(),i({type:0}),m.nextFrame(()=>i({type:2,focus:I.First}));break;case h.ArrowUp:v.preventDefault(),v.stopPropagation(),i({type:0}),m.nextFrame(()=>i({type:2,focus:I.Last}));break}}),f=y(v=>{switch(v.key){case h.Space:v.preventDefault();break}}),x=y(v=>{if(je(v.currentTarget))return v.preventDefault();e.disabled||(l.menuState===0?(i({type:1}),m.nextFrame(()=>{var j;return(j=l.buttonRef.current)==null?void 0:j.focus({preventScroll:!0})})):(v.preventDefault(),i({type:0})))}),b=d.useMemo(()=>({open:l.menuState===0}),[l]),N={ref:c,id:n,type:ge(e,l.buttonRef),"aria-haspopup":"menu","aria-controls":(s=l.itemsRef.current)==null?void 0:s.id,"aria-expanded":l.menuState===0,onKeyDown:p,onKeyUp:f,onClick:x};return T({ourProps:N,theirProps:o,slot:b,defaultTag:Oe,name:"Menu.Button"})}let _e="div",Ue=z.RenderStrategy|z.Static;function Be(e,a){var s,t;let n=Q(),{id:o=`headlessui-menu-items-${n}`,...l}=e,[i,c]=L("Menu.Items"),m=C(i.itemsRef,a),p=ae(i.itemsRef),f=ee(),x=be(),b=x!==null?(x&M.Open)===M.Open:i.menuState===0;d.useEffect(()=>{let u=i.itemsRef.current;u&&i.menuState===0&&u!==(p==null?void 0:p.activeElement)&&u.focus({preventScroll:!0})},[i.menuState,i.itemsRef,p]),ke({container:i.itemsRef.current,enabled:i.menuState===0,accept(u){return u.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}});let N=y(u=>{var S,P;switch(f.dispose(),u.key){case h.Space:if(i.searchQuery!=="")return u.preventDefault(),u.stopPropagation(),c({type:3,value:u.key});case h.Enter:if(u.preventDefault(),u.stopPropagation(),c({type:1}),i.activeItemIndex!==null){let{dataRef:g}=i.items[i.activeItemIndex];(P=(S=g.current)==null?void 0:S.domRef.current)==null||P.click()}te(i.buttonRef.current);break;case h.ArrowDown:return u.preventDefault(),u.stopPropagation(),c({type:2,focus:I.Next});case h.ArrowUp:return u.preventDefault(),u.stopPropagation(),c({type:2,focus:I.Previous});case h.Home:case h.PageUp:return u.preventDefault(),u.stopPropagation(),c({type:2,focus:I.First});case h.End:case h.PageDown:return u.preventDefault(),u.stopPropagation(),c({type:2,focus:I.Last});case h.Escape:u.preventDefault(),u.stopPropagation(),c({type:1}),_().nextFrame(()=>{var g;return(g=i.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})});break;case h.Tab:u.preventDefault(),u.stopPropagation(),c({type:1}),_().nextFrame(()=>{Ne(i.buttonRef.current,u.shiftKey?V.Previous:V.Next)});break;default:u.key.length===1&&(c({type:3,value:u.key}),f.setTimeout(()=>c({type:4}),350));break}}),v=y(u=>{switch(u.key){case h.Space:u.preventDefault();break}}),j=d.useMemo(()=>({open:i.menuState===0}),[i]),w={"aria-activedescendant":i.activeItemIndex===null||(s=i.items[i.activeItemIndex])==null?void 0:s.id,"aria-labelledby":(t=i.buttonRef.current)==null?void 0:t.id,id:o,onKeyDown:N,onKeyUp:v,role:"menu",tabIndex:0,ref:m};return T({ourProps:w,theirProps:l,slot:j,defaultTag:_e,features:Ue,visible:b,name:"Menu.Items"})}let Qe=d.Fragment;function Je(e,a){let s=Q(),{id:t=`headlessui-menu-item-${s}`,disabled:n=!1,...o}=e,[l,i]=L("Menu.Item"),c=l.activeItemIndex!==null?l.items[l.activeItemIndex].id===t:!1,m=d.useRef(null),p=C(a,m);k(()=>{if(l.__demoMode||l.menuState!==0||!c||l.activationTrigger===0)return;let g=_();return g.requestAnimationFrame(()=>{var D,H;(H=(D=m.current)==null?void 0:D.scrollIntoView)==null||H.call(D,{block:"nearest"})}),g.dispose},[l.__demoMode,m,c,l.menuState,l.activationTrigger,l.activeItemIndex]);let f=Se(m),x=d.useRef({disabled:n,domRef:m,get textValue(){return f()}});k(()=>{x.current.disabled=n},[x,n]),k(()=>(i({type:5,id:t,dataRef:x}),()=>i({type:6,id:t})),[x,t]);let b=y(()=>{i({type:1})}),N=y(g=>{if(n)return g.preventDefault();i({type:1}),te(l.buttonRef.current)}),v=y(()=>{if(n)return i({type:2,focus:I.Nothing});i({type:2,focus:I.Specific,id:t})}),j=we(),w=y(g=>j.update(g)),u=y(g=>{j.wasMoved(g)&&(n||c||i({type:2,focus:I.Specific,id:t,trigger:0}))}),S=y(g=>{j.wasMoved(g)&&(n||c&&i({type:2,focus:I.Nothing}))}),P=d.useMemo(()=>({active:c,disabled:n,close:b}),[c,n,b]);return T({ourProps:{id:t,ref:p,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:N,onFocus:v,onPointerEnter:w,onMouseEnter:w,onPointerMove:u,onMouseMove:u,onPointerLeave:S,onMouseLeave:S},theirProps:o,slot:P,defaultTag:Qe,name:"Menu.Item"})}let He=F(De),Ke=F(Ae),Ge=F(Be),ze=F(Je),$=Object.assign(He,{Button:Ke,Items:Ge,Item:ze});function Ve(e,a){var s=d.useRef(!1),t=d.useRef(),n=d.useRef(e),o=d.useCallback(function(){return s.current},[]),l=d.useCallback(function(){s.current=!1,t.current&&clearTimeout(t.current),t.current=setTimeout(function(){s.current=!0,n.current()},a)},[a]),i=d.useCallback(function(){s.current=null,t.current&&clearTimeout(t.current)},[]);return d.useEffect(function(){n.current=e},[e]),d.useEffect(function(){return l(),i},[a]),[o,i,l]}function We(e,a,s){s===void 0&&(s=[]);var t=Ve(e,a),n=t[0],o=t[1],l=t[2];return d.useEffect(l,s),[n,o]}const R="filter.";function qe({filters:e,appliedFilters:a=[],children:s,collections:t=[]}){const[n,o]=d.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between w-full",children:[r.jsx("button",{onClick:()=>o(!n),className:"relative flex items-center justify-center w-8 h-8 focus:ring-primary/5",children:r.jsx(fe,{})}),r.jsx(at,{})]}),r.jsxs("div",{className:"flex flex-col flex-wrap md:flex-row",children:[r.jsx("div",{className:`transition-all duration-200 ${n?"opacity-100 min-w-full md:min-w-[240px] md:w-[240px] md:pr-8 max-h-full":"opacity-0 md:min-w-[0px] md:w-[0px] pr-0 max-h-0 md:max-h-full"}`,children:r.jsx(Xe,{filters:e,appliedFilters:a})}),r.jsx("div",{className:"flex-1",children:s})]})]})}function Xe({filters:e=[],appliedFilters:a=[]}){const[s]=U(),t=E(),n=(o,l)=>{switch(o.type){case"PRICE_RANGE":const i=s.get(`${R}price`),c=i?JSON.parse(i):void 0,m=isNaN(Number(c==null?void 0:c.min))?void 0:Number(c==null?void 0:c.min),p=isNaN(Number(c==null?void 0:c.max))?void 0:Number(c==null?void 0:c.max);return r.jsx(nt,{min:m,max:p});default:const f=tt(l.input,s,t);return r.jsx(B,{className:"focus:underline hover:underline",prefetch:"intent",to:f,children:l.label})}};return r.jsx(r.Fragment,{children:r.jsxs("nav",{className:"py-8",children:[a.length>0?r.jsx("div",{className:"pb-8",children:r.jsx(Ze,{filters:a})}):null,r.jsx(q,{as:"h4",size:"lead",className:"pb-4",children:"Filter By"}),r.jsx("div",{className:"divide-y",children:e.map(o=>r.jsx(O,{as:"div",className:"w-full",children:({open:l})=>{var i;return r.jsxs(r.Fragment,{children:[r.jsxs(O.Button,{className:"flex justify-between w-full py-4",children:[r.jsx(X,{size:"lead",children:o.label}),r.jsx(Z,{direction:l?"up":"down"})]}),r.jsx(O.Panel,{children:r.jsx("ul",{className:"py-2",children:(i=o.values)==null?void 0:i.map(c=>r.jsx("li",{className:"pb-4",children:n(o,c)},c.id))},o.id)},o.id)]})}},o.id))})]})})}function Ze({filters:e=[]}){const[a]=U(),s=E();return r.jsxs(r.Fragment,{children:[r.jsx(q,{as:"h4",size:"lead",className:"pb-4",children:"Applied filters"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(t=>r.jsxs(B,{to:Ye(t,a,s),className:"flex px-2 border rounded-full gap",children:[r.jsx("span",{className:"flex-grow",children:t.label}),r.jsx("span",{children:r.jsx(pe,{})})]},`${t.label}-${JSON.stringify(t.filter)}`))})]})}function Ye(e,a,s){const t=new URLSearchParams(a);return Object.entries(e.filter).forEach(([n,o])=>{const l=R+n;t.delete(l,JSON.stringify(o))}),t.delete("cursor"),t.delete("direction"),`${s.pathname}?${t.toString()}`}function et(e,a,s){return a.set("sort",e),a.delete("cursor"),a.delete("direction"),`${s.pathname}?${a.toString()}`}function tt(e,a,s){const t=new URLSearchParams(a),n=re(e,t);return n.delete("cursor"),n.delete("direction"),`${s.pathname}?${n.toString()}`}const rt=500;function nt({max:e,min:a}){const s=E(),t=d.useMemo(()=>new URLSearchParams(s.search),[s.search]),n=W(),[o,l]=d.useState(a),[i,c]=d.useState(e);We(()=>{if(o===void 0&&i===void 0){t.delete(`${R}price`),n(`${s.pathname}?${t.toString()}`);return}const f={...o===void 0?{}:{min:o},...i===void 0?{}:{max:i}},x=re({price:f},t);n(`${s.pathname}?${x.toString()}`)},rt,[o,i]);const m=f=>{const x=f.target.value,b=Number.isNaN(parseFloat(x))?void 0:parseFloat(x);c(b)},p=f=>{const x=f.target.value,b=Number.isNaN(parseFloat(x))?void 0:parseFloat(x);l(b)};return r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("label",{className:"mb-4",children:[r.jsx("span",{children:"from"}),r.jsx("input",{name:"minPrice",className:"text-black",type:"number",value:o??"",placeholder:"$",onChange:p})]}),r.jsxs("label",{children:[r.jsx("span",{children:"to"}),r.jsx("input",{name:"maxPrice",className:"text-black",type:"number",value:i??"",placeholder:"$",onChange:m})]})]})}function re(e,a){const s=typeof e=="string"?JSON.parse(e):e;return Object.entries(s).forEach(([t,n])=>{a.has(`${R}${t}`,JSON.stringify(n))||(t==="price"?a.set(`${R}${t}`,JSON.stringify(n)):a.append(`${R}${t}`,JSON.stringify(n)))}),a}function at(){const e=[{label:"Featured",key:"featured"},{label:"Price: Low - High",key:"price-low-high"},{label:"Price: High - Low",key:"price-high-low"},{label:"Best Selling",key:"best-selling"},{label:"Newest",key:"newest"}],[a]=U(),s=E(),t=e.find(n=>n.key===a.get("sort"));return r.jsxs($,{as:"div",className:"relative z-40",children:[r.jsxs($.Button,{className:"flex items-center",children:[r.jsxs("span",{className:"px-2",children:[r.jsx("span",{className:"px-2 font-medium",children:"Sort by:"}),r.jsx("span",{children:(t||e[0]).label})]}),r.jsx(Z,{})]}),r.jsx($.Items,{as:"nav",className:"absolute right-0 flex flex-col p-4 text-right rounded-sm bg-contrast",children:e.map(n=>r.jsx($.Item,{children:()=>r.jsx(B,{className:`block text-sm pb-2 px-3 ${(t==null?void 0:t.key)===n.key?"font-bold":"font-normal"}`,to:et(n.key,a,s),children:n.label})},n.label))})]})}const jt=({matches:e})=>le(...e.map(a=>a.data.seo));function Nt(){const{collection:e,collections:a,appliedFilters:s}=ne(),{ref:t,inView:n}=se();return r.jsxs(r.Fragment,{children:[r.jsx(ce,{heading:e.title,children:(e==null?void 0:e.description)&&r.jsx("div",{className:"flex items-baseline justify-between w-full",children:r.jsx("div",{children:r.jsx(X,{format:!0,width:"narrow",as:"p",className:"inline-block",children:e.description})})})}),r.jsx(ue,{children:r.jsx(qe,{filters:e.products.filters,appliedFilters:s,collections:a,children:r.jsx(ie,{connection:e.products,children:({nodes:o,isLoading:l,PreviousLink:i,NextLink:c,nextPageUrl:m,hasNextPage:p,state:f})=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsx(G,{as:i,variant:"secondary",width:"full",children:l?"Loading...":"Load previous"})}),r.jsx(st,{nodes:o,inView:n,nextPageUrl:m,hasNextPage:p,state:f}),r.jsx("div",{className:"flex items-center justify-center mt-6",children:r.jsx(G,{ref:t,as:c,variant:"secondary",width:"full",children:l?"Loading...":"Load more products"})})]})})})}),r.jsx(oe.CollectionView,{data:{collection:{id:e.id,handle:e.handle}}})]})}function st({nodes:e,inView:a,nextPageUrl:s,hasNextPage:t,state:n}){const o=W();return d.useEffect(()=>{a&&t&&o(s,{replace:!0,preventScrollReset:!0,state:n})},[a,o,n,s,t]),r.jsx(de,{layout:"products","data-test":"product-grid",children:e.map((l,i)=>r.jsx(me,{product:l,loading:$e(i)},l.id))})}export{Nt as default,jt as meta};
